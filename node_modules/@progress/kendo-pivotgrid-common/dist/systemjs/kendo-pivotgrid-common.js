System.register("@progress/kendo-pivotgrid-common",["tslib","@progress/kendo-data-query"],function(u){var o,i;function r(e){return e.__useDefault?e.default:e}return{setters:[function(e){o=r(e)},function(e){i=r(e)}],execute:function(){function n(e){var r;return(a[e]||(r=a[e]={i:e,l:!1,exports:{}},t[e].call(r.exports,r,r.exports,n),r.l=!0,r)).exports}var t,a;t=[function(e,r){e.exports=o},function(e,A,r){"use strict";Object.defineProperty(A,"__esModule",{value:!0});function s(e,r,t){void 0===r&&(r=null),void 0===t&&(t=0);for(var n,a=g.__assign({},e,{total:!0,hasChildren:!1,children:[]}),o=0;o<e.children.length;o++){var i=s(e.children[o],e,o),u=u||i.hierarchy;i.hierarchy===u||!r||r.children.some(function(e){return e.total&&e.name===a.name})||e.total||(a.children.push(i),e.children.splice(o,1),o--)}return 1<=e.children.filter(function(e){return!e.total}).length&&r&&!r.children.some(function(e){return e.total&&e.name===a.name})&&!e.total&&(n=e.children[0].hierarchy,e.hierarchy===n)&&r.children.splice(t+1,0,a),e}var g=r(0);A.getMaxNesting=function(e,r){return void 0===r&&(r=new Set),(e.children||[]).forEach(function(e){r.add(e.levelName),A.getMaxNesting(e,r)}),r.size},A.getMaxExpansion=function(e){var r=0;return(e.children||[]).forEach(function(e){r+=A.getMaxExpansion(e)||1}),r},A.generateNormalizedPath=function(e,r){return(r&&r.hierarchy===e.hierarchy?(r.normalizedPath||[]).slice(0,-1).concat([e.name||null]):(r&&r.normalizedPath?r.normalizedPath:[]).concat([e.name])).filter(Boolean)},A.generatePath=function(e,r){return(r&&r.hierarchy===e.hierarchy?(r.path||[]).slice(0,-1).concat([(0===e.levelNum?e.hierarchy:e.name)||null]):(r&&r.path?r.path:[]).concat([0===e.levelNum?e.hierarchy:e.name])).filter(Boolean)},A.toMatrix=function(r,n,a,e,t,o,i,u){void 0===n&&(n=-1),void 0===a&&(a=0),void 0===e&&(e=void 0),void 0===t&&(t=void 0),void 0===o&&(o=void 0),void 0===i&&(i=void 0),void 0===u&&(u=void 0);var s=A.getMaxNesting(r),l=A.getMaxExpansion(r),c=e||s,f=t||l,p=o?o.slice():[],m=i?i.slice():new Array(f),e=p.findIndex(function(e){return e&&e.name===r.levelName&&e.level===r.levelNum}),t=p[e],o={name:r.levelName,level:r.levelNum,index:n,cells:new Array(f).fill(null)},i=-1!==n&&-1!==a,d={caption:r.caption,name:r.name,levelName:r.levelName,levelNum:r.levelNum,hasChildren:r.hasChildren,parentName:r.parentName,hierarchy:r.hierarchy,total:void 0!==r.total&&r.total||u&&u.children.length<=1&&u.total,parent:u,rowIndex:n,colIndex:a,depth:1,breadth:1,path:r.path||[],normalizedPath:r.normalizedPath||[],children:r.children.filter(function(e){return e.hierarchy===r.hierarchy})};if(i)if(t)t.cells[a]=d,t.index>=n&&(n=t.index);else{if(p[n]&&p[n].cells.length){for(var h=n;h<p.length;h++)p[h].index++;p.splice(n,0,o)}else p[n]=o;p[n].cells[a]=d}var g=0;return r.children&&r.children.length?r.children.forEach(function(e){var e=A.toMatrix(e,n+1,a+g,c,f,p,m,d),r=e[0],t=e[1],e=e[3];g+=e||1,p=r.slice(),m=t.slice()}):r.normalizedPath&&(m[a]={total:d.total,path:r.normalizedPath}),d.depth=s,d.breadth=l,[p,m,s,l]};function t(e,r){for(var t in e){var n;e.hasOwnProperty(t)&&(n=e[t],r[t]=a(n,r[t]))}}function a(e,r){return Array.isArray(e)?n(e):e instanceof Date?A.cloneDate(e):e&&"object"==typeof e?(t(e,r=r||{}),r):e}function u(e){return JSON.parse(JSON.stringify(e))}function n(e){return e.map(function(e){return a(e,void 0)})}A.toTree=function(e){for(var n={children:[]},a={},r=0;r<e.length;r++)for(var o=u(e[r]),i="",t=0;t<o.members.length;t++)!function(e){var r,t=o.members[e];n.children&&0===n.children.length?r=n:a[i]&&!a[i+t.name]&&0===t.levelNum?r=a[i]:a[i+t.parentName]&&0<t.levelNum&&!a[i+t.parentName+t.name]?r=a[i+t.parentName]:!a[i+t.parentName]&&0<t.levelNum&&!a[i+t.parentName+t.name]&&(e=Object.keys(a).find(function(e){return t.parentName===a[e].name}))&&(r=a[e]),r&&(t.path=A.generatePath(t,r),t.normalizedPath=A.generateNormalizedPath(t,r),-1!==(e=r.children.findIndex(function(e){return e.hierarchy!==r.hierarchy}))?r.children.splice(e,0,t):r.children.push(t)),t.parentName+=t.name,i+=t.parentName,a[i]||(a[i]=t)}(t);return u(s(n))},A.toData=function(e,r,n,t,a){function o(e){return e.join("|")}function i(e){return e.members.map(function(e){return e.name})}var u=Array.from(new Array(a),function(){return{cells:Array.from(new Array(t),function(){return null})}}),s=new Map,l=new Map;return r.forEach(function(e,r){s.set(o(e.path),r)}),n.forEach(function(e,r){l.set(o(e.path),r)}),e.forEach(function(e){var r=s.get(o(i(e.columnTuple))),t=l.get(o(i(e.rowTuple)));void 0===r||void 0===t||u[t].cells[r]||(u[t].row=n[t].path,u[t].cells[r]=e)}),u},A.toColumns=function(e){for(var r,e=A.toMatrix(e),t=e[0],n=e[1],a=e[2],o=e[3],i=0;i<o;i++)for(var u=null,s=0;s<a;s++)t[s]&&(!(r=t[s].cells[i])&&u&&(u.rowSpan=(u.rowSpan||1)+1),u&&(u.colSpan=u.breadth||1),r)&&(u=r);return[t,n,a,o]},A.toRows=function(e){for(var r,e=A.toMatrix(e),t=e[0],n=e[1],a=e[2],o=e[3],i=0;i<o;i++)for(var u=null,s=0;s<a;s++)t[s]&&(!(r=t[s].cells[i])&&u&&(u.rowSpan=(u.rowSpan||1)+1),u&&(u.colSpan=u.breadth),r)&&(u=r);for(var l,c=t,e=n,f=a,p=o,m=new Array(p),d=0;d<p;d++)for(var h=0;h<f;h++)c[h]&&c[h].cells[d]&&(l=c[h].cells[d],m[d]||(m[d]={cells:new Array(f).fill(null)}),m[d].cells[h]=g.__assign({},l,{rowSpan:l.colSpan,colSpan:l.rowSpan}));return[m,e,p,f]},A.cloneDate=function(e){return e?new Date(e.getTime()):null},A.clone=function(e){var r={};return t(e,r),r},A.cloneObject=t,A.cloneValue=a,A.copy=u,A.cloneArray=n;function o(e,r,t){return{hierarchyUniqueName:e,uniqueName:r,caption:r,measure:r,name:r,type:t,kpi:!0}}A.buildKPIMeasures=function(e){var r=e.name;return[o(r,e.value,"value"),o(r,e.goal,"goal"),o(r,e.status,"status"),o(r,e.trend,"trend")]},A.addKPI=function(e){for(var r,t=0;t<e.length;t++)if(2===e[t].type){r=!0;break}r&&e.splice(t+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})},A.compareAxisWithField=function(e,r){return String(e.name)===String([r.defaultHierarchy||r.uniqueName])},A.compareAxes=function(e,r){return String(e.name)===String(r.name)},A.filterField=function(n,a){for(var e=n.length-1;0<=e;e--)!function(e){var r=n[e],t=r.name.findIndex(function(e){return A.compareAxisWithField({name:[e]},a)||String(e).startsWith(a.uniqueName)});-1!==t&&(t===r.name.length-1||1===r.name.length?n.splice(e,1):(r.name.splice(t,1),-1!==(t=n.findIndex(function(e){return e!==r&&String(e.name)===String(r.name)}))&&(n[t]=g.__assign({},n[t],r,n[t].expand||r.expand?{expand:!0}:{}),n.splice(e,1))))}(e)},A.insertAxis=function(e,r,t){var n,a=-1;t.dropTarget&&t.dropDirection&&(n=!t.dropDirection||"before"===t.dropDirection?0:1,a=e.findIndex(function(e){return A.compareAxes(e,t.dropTarget)})+n),-1!==a?(e.forEach(function(e){e.expand&&1<e.name.length&&e.name.length>a&&(e=e.name).splice.apply(e,[a,0].concat(r.name))}),e.splice(a,0,r)):e.push(r)},A.reverseColumnsByMeasures=function(e){var r=e.length&&e[0],r=r&&r.members[r.members.length-1];if(r&&"[Measures]"===r.hierarchy){for(var t=[],n=new Set(e.map(function(e){return e.members[e.members.length-1].caption})).size,a=0;a<e.length;a+=n)t.push(e.slice(a,a+n));var o=[];return t.forEach(function(e){o.push.apply(o,e.reverse())}),o}return e}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.subNode=function(e,r,t){var n=e.get(r);return n||(n=t||new Map,e.set(r,n)),n},r.createKey=function(e,r){return e+"&"+r},r.splitKeyValue=function(e){var r=e.indexOf("&");return-1!==r?[e.substring(0,r),e.substring(r+1)]:[e,void 0]}},function(e,r,t){"use strict";function u(e,r){e=e.querySelector(r);return e?e.textContent:""}Object.defineProperty(r,"__esModule",{value:!0}),r.parseResponse=function(e){var e=(new DOMParser).parseFromString(e,"text/xml"),r=Array.from(e.querySelectorAll("Axis")),e=Array.from(e.querySelectorAll("CellData > Cell")).map(function(e){return{fmtValue:u(e,"FmtValue"),ordinal:parseInt(e.getAttribute("CellOrdinal"),10),value:u(e,"Value")}}),t={tuples:[]},n={tuples:[]},a=[],o=(r.forEach(function(e){var r;"SlicerAxis"!==e.getAttribute("name")&&(r=(0===t.tuples.length?t:n).tuples,Array.prototype.push.apply(r,Array.from(e.querySelectorAll("Tuple")).map(function(e){return{members:Array.from(e.querySelectorAll("Member")).map(function(e){var r=parseInt(u(e,"LNum")||"0",10),t=0<parseInt(u(e,"CHILDREN_CARDINALITY")||"0",10);return{caption:u(e,"Caption"),children:[],hasChildren:t,hierarchy:e.getAttribute("Hierarchy"),levelName:u(e,"LName"),levelNum:r,name:u(e,"UName"),parentName:u(e,"PARENT_UNIQUE_NAME")}})}})))}),new Array(n.tuples.length*t.tuples.length).fill(null)),i=(e.forEach(function(e){o[e.ordinal]=e}),0);return n.tuples.forEach(function(r){t.tuples.forEach(function(e){a.push({columnTuple:e,data:o[i],rowTuple:r}),i++})}),{columns:t,data:a,rows:n}},r.getPropertyValue=u},function(e,r,t){"use strict";function n(e){this.tabIndex=0,this.root=null,this.eventHandlers={},this.update=function(){},this.tabIndex=e.tabIndex}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(n.prototype,"elements",{get:function(){return this.root?Array.from(this.root.querySelectorAll(this.selectors.join(","))):[]},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"first",{get:function(){return this.root&&this.root.querySelector(this.selectors.join(","))||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"last",{get:function(){var e=this.elements;return e[e.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"current",{get:function(){return this.elements.find(function(e){return e.matches(":focus")})},enumerable:!0,configurable:!0}),n.prototype.start=function(e){var a=this,r=(this.root=e,this);for(t in this.mouseEvents)!function(t){r.mouseEvents[t]&&(r.eventHandlers[t]=function(e){var r=e.target instanceof Element&&e.target.closest(a.selectors.join(","));r&&a.mouseEvents[t].call(void 0,r,a,e)},e.addEventListener(t,r.eventHandlers[t]))}(t);var t,o=this;for(t in this.keyboardEvents)!function(n){o.keyboardEvents[n]&&(o.eventHandlers[n]=function(e){var r=e.target instanceof Element&&e.target.closest(a.selectors.join(",")),t=" "===e.key?"Space":e.key;r&&a.keyboardEvents[n][t]&&a.keyboardEvents[n][t].call(void 0,r,a,e)},e.addEventListener(n,o.eventHandlers[n]))}(t)},n.prototype.stop=function(){if(this.root)for(var e in this.eventHandlers)this.eventHandlers[e]&&this.root.removeEventListener(e,this.eventHandlers[e]);this.root=null},n.prototype.focusElement=function(e,r){e&&(r&&(r.removeAttribute("tabindex"),r.classList.remove("k-focus")),e.setAttribute("tabindex",String(this.tabIndex)),e.focus({preventScroll:!0}))},r.Navigation=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});function m(r,e,t){var n,a=(o=g.splitKeyValue(r))[0],o=o[1],t=t.slice();return a&&o?(o=e.find(function(e){return e.key===a}),n=o?o.caption:"",t.map(function(e){return e===n?r:e})):t}function d(e,r,i,u,s,l,t){for(var c=t||new Map,f=u.map(function(e){return e.caption});1<r.length&&u.some(function(e){return e.caption===r[r.length-1].caption});)r.pop(),f.pop();var p=e;return r.forEach(function(r,e){if(f=m(r.name,u,f),p&&!u.some(function(e){return e.caption===r.name})){if(!p.has(r.name)&&!c.has(f.slice(0,f.indexOf(r.name)+1).join("-")))for(var t=Array.from(p).find(function(e){return e[0]!==i}),t=t&&t[0],n=t&&g.splitKeyValue(t)[0],a=n?e-u.findIndex(function(e){return e.key===n}):0,o=0;o<a;o++)!function(){var t=[],a=(p.forEach(function(e,r){r!==i&&t.push.apply(t,Array.from(e).filter(function(e){return e[0]!==i}))}),new Map),n=(t.forEach(function(e){var r,t,n;a.has(e[0])?(r=a.get(e[0]),t=e[1],n=new Map,h.mergeTrees(r,n,s,l),h.mergeTrees(t,n,s,l),a.set(e[0],n)):a.set(e[0],new Map(e[1]))}),f.slice(0,f.indexOf(r.name)));a.forEach(function(e,r){c.set(m(r,u,n.concat([r])).join("-"),e)}),a.set(i,p.get(i)),p=a}();p=p.get(r.name)||c.get(f.slice(0,f.indexOf(r.name)+1).join("-"))}}),p}var h=t(6),g=t(2);r.readData=function(r,e,t,n,s,a,l){var c=[],f=n.dataField,o=n.columnsData,p=new Map;return e.forEach(function(i){var e=d(r,i.members.slice(),o,a,l,f,p),u=e&&e.get(o);t.forEach(function(e){var r,t=e.members.slice(),n=l[0],t=("[Measures].[MeasuresLevel]"===t[t.length-1].levelName&&(r=t.pop(),n=l.find(function(e){return String(e.name)===r.caption})||n),u&&d(u,t,f,s,l,f)),a="",o="";t&&n&&(t=n.aggregate.result(t.get(f)),a=String(t),o=n.aggregate.format(t)),c.push({columnTuple:e,data:{fmtValue:o,ordinal:0,value:a},rowTuple:i})})}),c}},function(e,i,r){"use strict";Object.defineProperty(i,"__esModule",{value:!0});function y(a,o,i){a.forEach(function(e,r){var t,n;r!==i&&(0<e.size&&y(e,o,i),t=e.get(i),n=_.subNode(a,i,{}),o.forEach(function(e){e.aggregate.init(n),e.aggregate.merge(t,n)}))})}function v(t,n,a,o){t.forEach(function(e,r){r!==a&&(0<e.size&&v(e,n,a,o),r=_.subNode(e,a),e=_.subNode(t,a),i.mergeTrees(r,e,n,o))})}var n=r(16),_=r(2);i.mergeTrees=function(e,n,a,o){e.forEach(function(r,e){var t;e!==o?(t=_.subNode(n,e),i.mergeTrees(r,t,a,o)):(t=_.subNode(n,e,{}),a.forEach(function(e){e.aggregate.init(t),e.aggregate.merge(r,t)}))})};i.createDataTree=function(e,i,u,s,r,t){var l=new Map,c=new Map,f=i.concat(u),p=new Set,m=r.dataField,d=r.columnsData,r=n.initializeFiltering(i,u,t),h=r.hasFilter,g=r.predicate,A=r.filteringAxes;return e.forEach(function(r){if(h){var t={};if(A.forEach(function(e){t[e.key]=e.displayValue(r)}),!g(t))return}var n,e,a=f.map(function(e){return e.displayValue(r)}),a="".concat.apply("",a),o=c.get(a);o||(n=l,i.forEach(e=function(e){n=_.subNode(n,_.createKey(e.key,e.displayValue(r)))}),n=_.subNode(n,d),p.add(n),u.forEach(e),o={},n.set(m,o),c.set(a,o),s.forEach(function(e){e.aggregate.init(o)})),s.forEach(function(e){e.aggregate.accumulate(o,e.value(r))})}),p.forEach(function(e){return y(e,s,m)}),v(l,s,d,m),l},i.cloneDataTree=function(e,r,t){var n=new Map;return i.mergeTrees(e,n,t,r),n}},function(e,g,r){"use strict";Object.defineProperty(g,"__esModule",{value:!0});var A,y=r(0),v=r(1);(r=A=g.PIVOT_CONFIGURATOR_ACTION||(g.PIVOT_CONFIGURATOR_ACTION={})).toggleSelection="PIVOT_CONFIGURATOR_ACTION_TOGGLE_SELECTION",r.addColumnAxis="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXIS",r.addColumnAxes="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXES",r.removeColumnAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXIS",r.removeColumnAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXES",r.addRowAxis="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXIS",r.addRowAxes="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXES",r.removeRowAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXIS",r.removeRowAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXES",r.addMeasureAxis="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXIS",r.addMeasureAxes="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXES",r.removeMeasureAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXIS",r.removeMeasureAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXES",r.remove="PIVOT_CONFIGURATOR_ACTION_REMOVE",r.setSort="PIVOT_CONFIGURATOR_ACTION_SET_SORT",r.setFilter="PIVOT_CONFIGURATOR_ACTION_SET_FILTER",r.addFilter="PIVOT_CONFIGURATOR_ACTION_ADD_FILTER",r.changeFilter="PIVOT_CONFIGURATOR_ACTION_CHANGE_FILTER",r.removeFilter="PIVOT_CONFIGURATOR_ACTION_REMOVE_FILTER",r.setDragItem="PIVOT_CONFIGURATOR_ACTION_SET_DRAGITEM",r.drop="PIVOT_CONFIGURATOR_ACTION_DROP",r.setDropZone="PIVOT_CONFIGURATOR_ACTION_SET_DROP_ZONE",r.setDropTarget="PIVOT_CONFIGURATOR_ACTION_SET_DROP_TARGET",r.setDropDirection="PIVOT_CONFIGURATOR_ACTION_SET_DROP_DIRECTION",g.configuratorReducer=function(e,t){var r,n,a,o,i,u,s,l,c,f;switch(t.type){case A.toggleSelection:if(Array.isArray(t.payload))break;return 2===(f=t.payload).type||"aggregator"in f?e.measureAxes.some(function(e){return v.compareAxisWithField(e,f)})?g.configuratorReducer(e,y.__assign({},t,{type:A.removeMeasureAxis})):g.configuratorReducer(e,y.__assign({},t,{type:A.addMeasureAxis})):"kpi"===f.type?(p=v.buildKPIMeasures(f)).every(function(r){return e.measureAxes.some(function(e){return v.compareAxisWithField(e,r)})})?g.configuratorReducer(e,y.__assign({},t,{type:A.removeMeasureAxes,payload:p})):g.configuratorReducer(e,y.__assign({},t,{type:A.addMeasureAxes,payload:p.filter(function(r){return!e.measureAxes.some(function(e){return v.compareAxisWithField(e,r)})})})):t.payload.kpi?e.measureAxes.some(function(e){return v.compareAxisWithField(e,f)})?g.configuratorReducer(e,y.__assign({},t,{type:A.removeMeasureAxis})):g.configuratorReducer(e,y.__assign({},t,{type:A.addMeasureAxis})):e.columnAxes.some(function(e){return v.compareAxisWithField(e,f)})?g.configuratorReducer(e,y.__assign({},t,{type:A.removeColumnAxis})):e.rowAxes.some(function(e){return v.compareAxisWithField(e,f)})?g.configuratorReducer(e,y.__assign({},t,{type:A.removeRowAxis})):!e.columnAxes||!e.columnAxes.length||e.rowAxes&&e.rowAxes.length?g.configuratorReducer(e,y.__assign({},t,{type:A.addColumnAxis})):g.configuratorReducer(e,y.__assign({},t,{type:A.addRowAxis}));case A.addColumnAxis:n=(e.columnAxes||[]).concat([{name:[t.payload.defaultHierarchy||t.payload.uniqueName]}]);break;case A.addColumnAxes:break;case A.removeColumnAxis:n=(e.columnAxes||[]).filter(function(e){return!v.compareAxisWithField(e,t.payload)}).slice(),v.filterField(n,t.payload);break;case A.removeColumnAxes:break;case A.addRowAxis:r=(e.rowAxes||[]).concat([{name:[t.payload.defaultHierarchy||t.payload.uniqueName]}]);break;case A.addRowAxes:break;case A.removeRowAxis:r=(e.rowAxes||[]).filter(function(e){return!v.compareAxisWithField(e,t.payload)}).slice(),v.filterField(r,t.payload);break;case A.removeRowAxes:break;case A.addMeasureAxis:a=(e.measureAxes||[]).concat([{name:[t.payload.defaultHierarchy||t.payload.uniqueName]}]);break;case A.removeMeasureAxis:a=(e.measureAxes||[]).filter(function(e){return!v.compareAxisWithField(e,t.payload)}).slice();break;case A.addMeasureAxes:a=(e.measureAxes||[]).concat((t.payload||[]).map(function(e){return{name:[e.defaultHierarchy||e.uniqueName]}}));break;case A.removeMeasureAxes:a=(e.measureAxes||[]).filter(function(r){return!t.payload.some(function(e){return v.compareAxisWithField(r,e)})}).slice();break;case A.remove:e.columnAxes.some(function(e){return v.compareAxes(e,t.payload)})&&(n=e.columnAxes.filter(function(e){return!v.compareAxes(e,t.payload)}).slice(),v.filterField(n,{uniqueName:t.payload.name})),e.rowAxes.some(function(e){return v.compareAxes(e,t.payload)})&&(r=e.rowAxes.filter(function(e){return!v.compareAxes(e,t.payload)}).slice(),v.filterField(r,{uniqueName:t.payload.name})),e.measureAxes.some(function(e){return v.compareAxes(e,t.payload)})&&(a=e.measureAxes.filter(function(e){return!v.compareAxes(e,t.payload)}).slice());break;case A.setDragItem:u=t.payload;break;case A.setDropZone:s=t.payload;break;case A.setDropTarget:c=t.payload;break;case A.setDropDirection:l=t.payload;break;case A.drop:if(e.dragItem&&e.dropZone){var p=e.columnAxes.find(function(e){return v.compareAxes(e,t.payload)}),m=e.rowAxes.find(function(e){return v.compareAxes(e,t.payload)}),d=e.measureAxes.find(function(e){return v.compareAxes(e,t.payload)}),h=void 0;switch(p&&(h=p,n=e.columnAxes.filter(function(e){return!v.compareAxes(e,t.payload)}).slice(),v.filterField(n,{uniqueName:t.payload.name})),m&&(h=m,r=e.rowAxes.filter(function(e){return!v.compareAxes(e,t.payload)}).slice(),v.filterField(r,{uniqueName:t.payload.name})),d&&(h=d,a=e.measureAxes.filter(function(e){return!v.compareAxes(e,t.payload)}).slice()),e.dropZone){case"columnAxes":n=n||e.columnAxes.slice(),v.insertAxis(n,h,e);break;case"rowAxes":r=r||e.rowAxes.slice(),v.insertAxis(r,h,e);break;case"measureAxes":a=a||e.measureAxes.slice(),v.insertAxis(a,h,e)}}c=s=u=null;break;case A.setSort:o=t.payload;break;case A.setFilter:i=Array.isArray(t.payload)?t.payload:[t.payload];break;case A.addFilter:i=(e.filter||[]).slice(),Array.isArray(t.payload)?i.push.apply(i,t.payload):i.push(t.payload);break;case A.changeFilter:i=Array.isArray(t.payload)?(e.filter||[]).map(function(r){return t.payload.some(function(e){return e.field===r.field})?t.payload.find(function(e){return e.field===r.field}):r}):(e.filter||[]).map(function(e){return e.field===t.payload.field?t.payload:e});break;case A.removeFilter:i=(e.filter||[]).slice(),i=Array.isArray(t.payload)?i.filter(function(r){return!t.payload.some(function(e){return e.field===r.field&&e.operator===r.operator})}):i.filter(function(e){return!(e.field===t.payload.field&&e.operator===t.payload.operator)})}return{dragItem:u,dropTarget:c,dropDirection:l,dropZone:s,columnAxes:n,rowAxes:r,measureAxes:a,filter:i,sort:o}}},function(e,n,r){"use strict";function a(e,r,t){var n="";if(r){n+="<"+e+">";var a,o;for(o in r)r[o]&&(a=r[o],t&&(o=o.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),n+="<"+o+">"+a+"</"+o+">");n+="</"+e+">"}else n+="<"+e+"/>";return n}Object.defineProperty(n,"__esModule",{value:!0}),n.discoverCommands={schemaCatalogs:"DBSCHEMA_CATALOGS",schemaCubes:"MDSCHEMA_CUBES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaKPIs:"MDSCHEMA_KPIS",schemaLevels:"MDSCHEMA_LEVELS",schemaMeasures:"MDSCHEMA_MEASURES",schemaMembers:"MDSCHEMA_MEMBERS"},n.createDiscoverBody=function(e){var r={},t='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">',t=(t+="<RequestType>"+(n.discoverCommands[e.command]||e.command)+"</RequestType>")+("<Restrictions>"+a("RestrictionList",e.restrictions,!0)+"</Restrictions>");return e.connection&&e.connection.catalog&&(r.Catalog=e.connection.catalog),(t+="<Properties>"+a("PropertyList",r,!1)+"</Properties>")+"</Discover></Body></Envelope>"}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t(28),l=t(27);r.createRequestBody=function(e){var r='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>',t=e.columnAxes,t=void 0===t?[]:t,n=e.rowAxes,n=void 0===n?[]:n,a=e.measureAxes,a=void 0===a?[]:a,o=e.sort,o=void 0===o?[]:o,i=e.filter,i=void 0===i?[]:i,u="rows"===e.measuresAxis;return r+="SELECT NON EMPTY {",!t.length&&n.length&&(!a.length||a.length&&u)&&(t=n,u=!(n=[])),t.length||n.length||(u=!1),t.length?r+=l.serializeMembers(t,u?[]:a,o):a.length&&!u&&(r+=l.measureNames(a).join(",")),r+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(n.length||u&&1<a.length)&&(r+=", NON EMPTY {",n.length?r+=l.serializeMembers(n,u?a:[],o):r+=l.measureNames(a).join(","),r+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),i.length?r=(r=r+" FROM "+"(")+s.serializeFilters(i,e.connection.cube)+")":r+=" FROM ["+e.connection.cube+"]",1===a.length&&t.length&&(r+=" WHERE ("+l.measureNames(a).join(",")+")"),(r+="</Statement></Command><Properties><PropertyList><Catalog>"+e.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>").replace(/&/g,"&amp;")}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});function n(e,r,t,n){t.preventDefault(),t=r.elements,(n=t.indexOf(e)+n)<0&&(n=t.length-1),r.focusElement(t[n%t.length],e)}function a(e,r,t){t.target instanceof HTMLElement&&t.target.querySelector(".k-icon.k-i-x-circle")instanceof HTMLElement&&(t.preventDefault(),n(e,r,t,-1))}var o,i=t(0),u=[".k-pivotgrid-configurator-content .k-form-field .k-fields-list-wrapper .k-treeview",".k-pivotgrid-configurator-content .k-chip",".k-pivotgrid-configurator-actions button"],s={keydown:{Tab:function(e,r,t){n(e,r,t,t.shiftKey?-1:1)},Escape:function(e,r,t){t.target instanceof HTMLElement&&r.root&&(t=r.root.previousElementSibling,r=r.root.nextElementSibling,(t=Array.from(t instanceof HTMLElement?t.querySelectorAll("[tabindex]"):[]).find(function(e){return 0<=e.tabIndex}))instanceof HTMLElement)&&(t.focus(),r instanceof HTMLElement)&&r.click()},Delete:a,Backspace:a}},l={click:function(e,r){var t;e&&e instanceof HTMLElement&&(t=r.elements.find(function(e){return e.hasAttribute("tabindex")})||null,r.focusElement(e,t))}},t=(o=t(4).Navigation,i.__extends(c,o),c);function c(){var e=null!==o&&o.apply(this,arguments)||this;return e.selectors=u,e.mouseEvents=l,e.keyboardEvents=s,e}r.ConfiguratorNavigation=t},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});function n(e,r,t){var n,a=e.querySelector(".k-icon");a&&(n=r.elements.indexOf(e),r.update=function(){r.focusElement(r.elements[n],null),r.update=function(){}},a.click(),t.preventDefault())}function a(e,r,t){e.offsetLeft<r.scrollLeft&&(t.scrollLeft=e.offsetLeft)}function o(e,r,t){e.offsetLeft+e.offsetWidth>r.scrollLeft+r.offsetWidth&&e.offsetWidth<r.offsetWidth&&(t.scrollLeft=e.offsetLeft+e.offsetWidth-r.offsetWidth)}function i(e,r,t){r.scrollTop&&e.offsetTop<r.scrollTop&&(t.scrollTop=e.offsetTop)}function u(e,r,t){e.offsetTop+e.offsetHeight>r.scrollTop+r.offsetHeight&&e.offsetHeight<r.offsetHeight&&(t.scrollTop=e.offsetTop+e.offsetHeight-r.offsetHeight)}function s(r,e,t){var n=e.querySelector(d),a=r&&r.closest(_);n&&a&&r&&t.forEach(function(e){return e(r,a,n)})}function l(e){for(var r=N(e.querySelector([h,y].join(" "))),t=N(e.querySelector([g,y].join(" "))),n=N(e.querySelector([d,y].join(" "))),e=e.querySelector(A),a=new Array(t[0].length).fill(e),o=[],i=0;i<r.length;i++)o.push(a.concat(r[i]));for(i=0;i<t.length;i++)o.push(t[i].concat(n[i]));return o}function c(e){return e.ctrlKey||e.metaKey}function f(e,r,t){for(var n=l(e),a=[(e=function(e,r){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)if(e[t][n]===r)return[t,n];return[-1,-1]}(n,r))[0]+t[0],e[1]+t[1]],o=n[a[0]]&&n[a[0]][a[1]];o&&o===r;)o=n[(a=[a[0]+t[0],a[1]+t[1]])[0]]&&n[a[0]][a[1]];return o}var p,m=t(0),t=t(4),d=".k-pivotgrid .k-pivotgrid-values",h=".k-pivotgrid .k-pivotgrid-column-headers",g=".k-pivotgrid .k-pivotgrid-row-headers",A=".k-pivotgrid > .k-pivotgrid-empty-cell",y="table.k-pivotgrid-table",v=".k-pivotgrid-cell",_=[d,h,g].join(","),E=[A,[h,y,v].join(" "),[g,y,v].join(" "),[d,y,v].join(" ")],N=function(e){var e=Array.from(e.rows),r=Array.from(e&&e[0]&&e[0].cells||[]).map(function(e){return e.colSpan}).reduce(function(e,r){return e+r},0),i=e.map(function(){return new Array(r)});return e.forEach(function(e,a){var o=0;Array.from(e.cells).forEach(function(e){for(var r=0;r<e.colSpan;r++){for(var t=0;t<e.rowSpan;t++){var n=i[a+t].findIndex(function(e,r){return o<=r&&!e});i[a+t][n]=e}o++}})}),i},O={keydown:{ArrowLeft:function(e,r,t){t.preventDefault();t=f(r.root,e,[0,-1]);r.focusElement(t,e),s(t,r.root,[o,a,u,i])},ArrowRight:function(e,r,t){t.preventDefault();t=f(r.root,e,[0,1]);r.focusElement(t,e),s(t,r.root,[a,o,u,i])},ArrowUp:function(e,r,t){t.preventDefault();t=f(r.root,e,[-1,0]);r.focusElement(t,e),s(t,r.root,[o,a,u,i])},ArrowDown:function(e,r,t){t.preventDefault();t=f(r.root,e,[1,0]);r.focusElement(t,e),s(t,r.root,[o,a,i,u])},o:function(e,r,t){var n;r.root&&(n=r.root.nextElementSibling)&&n instanceof HTMLElement&&n.matches("div.k-pivotgrid-configurator-button")&&(n.click(),setTimeout(function(){var e;r.root.parentNode&&(e=r.root.parentNode.querySelector(".k-pivotgrid-configurator-content .k-form-field .k-fields-list-wrapper .k-treeview"))instanceof HTMLElement&&(e.setAttribute("tabindex",String(r.tabIndex)),e.focus())},0))},Enter:n,Space:n,Home:function(r,e,t){var n=l(e.root),n=(c(t)?n[0]:n.find(function(e){return Boolean(e.find(function(e){return e===r}))})||[])[0];n&&(e.focusElement(n,r),s(n,e.root,[o,a,u,i]),t.preventDefault())},End:function(r,e,t){var n=l(e.root),n=c(t)?n[n.length-1]:n.find(function(e){return Boolean(e.find(function(e){return e===r}))})||[],n=n&&n[n.length-1]||null;n&&(e.focusElement(n,r),s(n,e.root,[a,o,i,u]),t.preventDefault())}}},x={click:function(e,r){var t;e&&e instanceof HTMLElement&&(t=r.elements.find(function(e){return e.hasAttribute("tabindex")})||null,r.focusElement(e,t))}},v=(p=t.Navigation,m.__extends(I,p),I);function I(){var e=null!==p&&p.apply(this,arguments)||this;return e.selectors=E,e.mouseEvents=x,e.keyboardEvents=O,e}r.PivotGridNavigation=v},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(11),n=(r.PivotGridNavigation=n.PivotGridNavigation,t(10));r.ConfiguratorNavigation=n.ConfiguratorNavigation},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createFlatSchemaDimensions=function(e,r){e=Object.keys(e).map(function(e){return{caption:e,defaultHierarchy:e,description:"",name:e,uniqueName:e,hierarchyUniqueName:e,measure:!0,type:1}});return r.length&&e.push({caption:"Measures",children:r.map(function(e){return{aggregator:"1",caption:String(e.name),defaultFormat:"",description:"",displayFolder:"",groupName:String(e.name),name:String(e.name),uniqueName:String(e.name)}}),type:2,description:"",name:"Measures",uniqueName:"[Measures]"}),e}},function(e,l,r){"use strict";Object.defineProperty(l,"__esModule",{value:!0});function u(e,r){return r={caption:String(r.name),children:[],hasChildren:!1,hierarchy:"[Measures]",levelName:"[Measures].[MeasuresLevel]",levelNum:0,name:"[Measures].["+r.name+"]",parentName:""},(e=s.copy(e)).members.push(r),e}var s=r(1),O=r(2),c=r(5),x=function(e,t,n){e.forEach(function(e,r){n[r]||(r=O.subNode(t,r),x(e,r,n))})};l.rootFields=function(e){var r=new Set;return e.forEach(function(e){1!==e.name.length||O.splitKeyValue(e.name[0])[1]||r.add(e.name[0])}),r},l.createTuples=function(y,r,v,_,E){var t,n,a=l.rootFields(r),N=[],e=(t=y,n={members:[]},a.forEach(function(r){var e=t.find(function(e){return e.key===r}),e=e?e.caption:"";n.members.push({caption:e,children:[],hasChildren:!0,parentName:"",levelNum:0,levelName:e,hierarchy:r,name:e})}),n);N.push(e);for(var o=0;o<r.length;o++)!function(e){var p=r[e];if(1===p.name.length&&!p.expand&&a.has(p.name[0]))return;var m,d=new Set(a.keys()),h=[],g=[],A=[];p.name.forEach(function(r,e){var n,a,t=O.splitKeyValue(r),o=t[0],t=t[1];if(m=y.find(function(e){return e.key===o}),t){d.delete(o),g.push(r);var i={children:[],caption:t,hierarchy:o,levelNum:1,levelName:o+" "+o,name:r,parentName:m?m.caption:""};h.push(i)}else if(p.expand&&p.name.length-1===e){d.delete(r),g.push(r);var u=function(n,a){for(var e,o=[],i=function(e){return Array.from(e).filter(function(e){return!a[e[0]]})},u=new Map(v),r=0;r<n.length;r++)!function(r){var t;(e=u.get(n[r]))?u=new Map(e):r<n.length-1&&Array.from(u).some(function(e){return O.splitKeyValue(e[0])[0]===n[r]})?(t=[],u.forEach(function(e,r){a[r]||t.push.apply(t,i(new Map(e)))}),u=new Map,t.forEach(function(e){var r,t,n;u.has(e[0])?(r=u.get(e[0]),t=e[1],n=new Map,x(r,n,a),x(t,n,a),u.set(e[0],n)):u.set(e[0],new Map(e[1]))})):0!==r&&r!==n.length-1||Array.from(u).some(function(e){return O.splitKeyValue(e[0])[0]===n[r]})&&o.push.apply(o,i(u))}(r);return o}(g,E),t=_.find(function(e){return e.field===o});t&&t.dir&&u.sort((n=t,a=m,function(e,r){var t=n.dir,e=a.sortValue(O.splitKeyValue(e[0])[1]),r=a.sortValue(O.splitKeyValue(r[0])[1]);return e<r?"asc"===t?-1:1:r<e?"asc"===t?1:-1:0}));for(var s=0;s<u.length;s++){var l=u[s][0],c={members:[]},f=(A.push(c),O.splitKeyValue(l)[1]);m=y.find(function(e){return e.key===r}),i={caption:f,children:[],levelName:r+" "+r,levelNum:1,parentName:m?m.caption:"",hierarchy:r,name:l},(f=c.members).push.apply(f,h),c.members.push(i)}}else p.expand&&(e=(m=y.find(function(e){return e.key===r}))?m.caption:"",d.delete(r),g.push(r),h.push(i={children:[],caption:e,hierarchy:r,levelName:e,levelNum:0,name:e,parentName:""}));d.forEach(function(t){A.forEach(function(e){var r=(m=y.find(function(e){return e.key===t}))?m.caption:"";e.members.push({children:[],hasChildren:!0,caption:r,hierarchy:t,levelName:r,levelNum:0,name:r,parentName:""})})}),N.push.apply(N,A)})}(o);return N};l.addMultipleMeasures=function(e,r){if(r.length<2)return e;for(var t=e.slice(),n=t.length-1;0<=n;n--){var a=t[n];t[n]=u(t[n],r[0]);for(var o=1;o<r.length;o++){var i=u(a,r[o]);t.splice(n+o,0,i)}}return s.reverseColumnsByMeasures(t)},l.createLocalDataState=function(e){var r,t=e.dataTree,n=e.rowSettings,a=e.columnSettings,o=e.rowAxes,i=e.columnAxes,u=e.measures,s=e.sort,e=e.fields,i=((r={})[e.columnsData]=e.columnsData,r[e.dataField]=e.dataField,l.addMultipleMeasures(l.createTuples(a,i,t.get(e.columnsData),s,r),u)),o=l.createTuples(n,o,t,s,r);return{columns:i,data:c.readData(t,o,i,e,a,n,u),rows:o}}},function(e,r){e.exports=i},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var u=t(15);r.initializeFiltering=function(e,r,t){var n,a,o=t?Array.isArray(t)?{logic:"and",filters:t}:t:void 0,o=o?u.compileFilter(o):function(){return!0},e=e.concat(r),i=[],t=(r=t||[],n=function(e){"field"in e&&e.field&&i.push(e.field)},(Array.isArray(r)?r:r.filters).forEach(function(e){return function r(e,t){"filters"in e?e.filters.map(function(e){return r(e,t)}):t(e)}(e,n)}),{hasFilter:!1,predicate:o,filteringAxes:[]});return i.some(function(e){return"function"==typeof e})?t.filteringAxes=e.slice():0<i.length&&(a=Array.from(new Set(i).values()),r=e.filter(function(e){return 0<=a.indexOf(e.key)}),t.filteringAxes=r),t.hasFilter=0<t.filteringAxes.length,t}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.sumAggregate={init:function(e){"sum"in e==0&&(e.sum=0)},merge:function(e,r){r.sum+=e.sum},accumulate:function(e,r){e.sum+=r},result:function(e){return e.sum},format:function(e){return e.toFixed(2)}},r.minAggregate={init:function(e){"min"in e==0&&(e.min=Number.POSITIVE_INFINITY)},merge:function(e,r){r.min=Math.min(e.min,r.min)},accumulate:function(e,r){e.min=Math.min(r,e.min)},result:function(e){return Number.isFinite(e.min)?e.min:NaN},format:function(e){return e.toFixed(2)}},r.maxAggregate={init:function(e){"max"in e==0&&(e.max=Number.NEGATIVE_INFINITY)},merge:function(e,r){r.max=Math.max(e.max,r.max)},accumulate:function(e,r){e.max=Math.max(r,e.max)},result:function(e){return Number.isFinite(e.max)?e.max:NaN},format:function(e){return e.toFixed(2)}},r.averageAggregate={init:function(e){"count"in e==0&&(e.sumA=0,e.count=0)},merge:function(e,r){r.sumA+=e.sumA,r.count+=e.count},accumulate:function(e,r){e.sumA+=r,e.count+=1},result:function(e){return e.sumA/e.count},format:function(e){return e.toFixed(2)}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0);n.__exportStar(t(17),r),n.__exportStar(t(6),r),n.__exportStar(t(5),r),n.__exportStar(t(14),r),n.__exportStar(t(13),r)},function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});function i(e,t,n){var a=new Set;return e.children.forEach(function(e){var r=t(e);n&&a.add(String(e.path)),i(e,t,n||r).map(function(e){a.add(e)})}),Array.from(a.values())}var u,s=r(0);(r=u=o.HEADERS_ACTION||(o.HEADERS_ACTION={})).toggle="HEADERS_ACTION_TOGGLE",r.expand="HEADERS_ACTION_EXPAND",r.collapse="HEADERS_ACTION_COLLAPSE";o.headersReducer=function(e,r){switch(r.type){case u.toggle:var t=e.find(function(e){return String(e.name)===String(r.payload)});return o.headersReducer(e,s.__assign({},r,{type:t&&t.expand?u.collapse:u.expand}));case u.expand:var n=e.find(function(e){return String(e.name)===String(r.payload)});return n&&!0===n.expand?e:!n||!1!==n.expand&&void 0!==n.expand?((t=e.slice()).push({name:r.payload,expand:!0}),t):e.map(function(e){return e===n?s.__assign({},n,{expand:!0}):e});case u.collapse:var a=i(r.tree,function(e){return!e.total&&String(e.path)===String(r.payload)});return e.slice().filter(function(r){return!a.some(function(e){return e===String(r.name)})}).map(function(e){return s.__assign({},e,{expand:Boolean(e.expand)})}).map(function(e){return String(e.name)===String(r.payload)?1<r.payload.length?void 0:{name:r.payload,expand:!1}:e}).filter(Boolean);default:return e}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0);n.__exportStar(t(19),r),n.__exportStar(t(7),r)},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setFilter=function(e,r){e.filter=r=void 0===r?[]:r}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setSort=function(e,r){e.sort=r=void 0===r?[]:r}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createAxisDescriptors=function(e){for(var r=[],t=0,n=Object.keys(e);t<n.length;t++){var a=n[t];r.push({name:JSON.parse(a),expand:e[a]})}return r}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(1);r.createDataState=function(e){return{columns:n.reverseColumnsByMeasures(e.columns.tuples),data:e.data,rows:e.rows.tuples}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(3);r.parseCubes=function(e){e=(new DOMParser).parseFromString(e,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map(function(e){return{name:n.getPropertyValue(e,"CUBE_NAME"),caption:n.getPropertyValue(e,"CUBE_CAPTION"),description:n.getPropertyValue(e,"DESCRIPTION"),type:n.getPropertyValue(e,"CUBE_TYPE")}})},r.parseCatalogs=function(e){e=(new DOMParser).parseFromString(e,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map(function(e){return{name:n.getPropertyValue(e,"CATALOG_NAME"),description:n.getPropertyValue(e,"DESCRIPTION")}})},r.parseMeasures=function(e){e=(new DOMParser).parseFromString(e,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map(function(e){return{name:n.getPropertyValue(e,"MEASURE_NAME"),caption:n.getPropertyValue(e,"MEASURE_CAPTION"),uniqueName:n.getPropertyValue(e,"MEASURE_UNIQUE_NAME"),description:n.getPropertyValue(e,"DESCRIPTION"),aggregator:n.getPropertyValue(e,"MEASURE_AGGREGATOR"),groupName:n.getPropertyValue(e,"MEASUREGROUP_NAME"),displayFolder:n.getPropertyValue(e,"MEASURE_DISPLAY_FOLDER"),defaultFormat:n.getPropertyValue(e,"DEFAULT_FORMAT_STRING")}})},r.parseKPIs=function(e){e=(new DOMParser).parseFromString(e,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map(function(e){return{name:n.getPropertyValue(e,"KPI_NAME"),uniqueName:n.getPropertyValue(e,"KPI_NAME"),caption:n.getPropertyValue(e,"KPI_CAPTION"),value:n.getPropertyValue(e,"KPI_VALUE"),goal:n.getPropertyValue(e,"KPI_GOAL"),status:n.getPropertyValue(e,"KPI_STATUS"),trend:n.getPropertyValue(e,"KPI_TREND"),statusGraphic:n.getPropertyValue(e,"KPI_STATUS_GRAPHIC"),trendGraphic:n.getPropertyValue(e,"KPI_TREND_GRAPHIC"),description:n.getPropertyValue(e,"KPI_DESCRIPTION"),groupName:n.getPropertyValue(e,"MEASUREGROUP_NAME"),type:"kpi"}})},r.parseDimensions=function(e){e=(new DOMParser).parseFromString(e,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map(function(e){return{caption:n.getPropertyValue(e,"DIMENSION_CAPTION"),defaultHierarchy:n.getPropertyValue(e,"DEFAULT_HIERARCHY"),description:n.getPropertyValue(e,"DESCRIPTION"),name:n.getPropertyValue(e,"DIMENSION_NAME"),type:parseInt(n.getPropertyValue(e,"DIMENSION_TYPE"),10),uniqueName:n.getPropertyValue(e,"DIMENSION_UNIQUE_NAME")}})},r.parseHierarchies=function(e){e=(new DOMParser).parseFromString(e,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map(function(e){return{name:n.getPropertyValue(e,"HIERARCHY_NAME"),caption:n.getPropertyValue(e,"HIERARCHY_CAPTION"),description:n.getPropertyValue(e,"DESCRIPTION"),uniqueName:n.getPropertyValue(e,"HIERARCHY_UNIQUE_NAME"),dimensionUniqueName:n.getPropertyValue(e,"DIMENSION_UNIQUE_NAME"),displayFolder:n.getPropertyValue(e,"HIERARCHY_DISPLAY_FOLDER"),origin:n.getPropertyValue(e,"HIERARCHY_ORIGIN"),defaultMember:n.getPropertyValue(e,"DEFAULT_MEMBER")}})},r.parseLevels=function(e){e=(new DOMParser).parseFromString(e,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map(function(e){return{name:n.getPropertyValue(e,"LEVEL_NAME"),caption:n.getPropertyValue(e,"LEVEL_CAPTION"),description:n.getPropertyValue(e,"DESCRIPTION"),uniqueName:n.getPropertyValue(e,"LEVEL_UNIQUE_NAME"),dimensionUniqueName:n.getPropertyValue(e,"DIMENSION_UNIQUE_NAME"),displayFolder:n.getPropertyValue(e,"LEVEL_DISPLAY_FOLDER"),orderingProperty:n.getPropertyValue(e,"LEVEL_ORDERING_PROPERTY"),origin:n.getPropertyValue(e,"LEVEL_ORIGIN"),hierarchyUniqueName:n.getPropertyValue(e,"HIERARCHY_UNIQUE_NAME")}})},r.parseMembers=function(e){e=(new DOMParser).parseFromString(e,"text/xml");return Array.from(e.querySelectorAll("DiscoverResponse > return > root > row")).map(function(e){return{name:n.getPropertyValue(e,"MEMBER_NAME"),caption:n.getPropertyValue(e,"MEMBER_CAPTION"),uniqueName:n.getPropertyValue(e,"MEMBER_UNIQUE_NAME"),dimensionUniqueName:n.getPropertyValue(e,"DIMENSION_UNIQUE_NAME"),hierarchyUniqueName:n.getPropertyValue(e,"HIERARCHY_UNIQUE_NAME"),levelUniqueName:n.getPropertyValue(e,"LEVEL_UNIQUE_NAME"),childrenCardinality:n.getPropertyValue(e,"CHILDREN_CARDINALITY")}})}},function(e,r,t){"use strict";var a=this,o=(Object.defineProperty(r,"__esModule",{value:!0}),t(0)),i=t(9),u=t(3),s=t(8),t=t(25),l={schemaCatalogs:t.parseCatalogs,schemaCubes:t.parseCubes,schemaDimensions:t.parseDimensions,schemaHierarchies:t.parseHierarchies,schemaKPIs:t.parseKPIs,schemaLevels:t.parseLevels,schemaMeasures:t.parseMeasures,schemaMembers:t.parseMembers};r.fetchData=function(t,n){return o.__awaiter(a,void 0,void 0,function(){var r;return o.__generator(this,function(e){switch(e.label){case 0:return r=o.__assign({body:i.createRequestBody(n),headers:{"Content-Type":"text/xml"},method:"POST"},t.init),[4,fetch(t.url,r)];case 1:return[4,e.sent().text()];case 2:return r=e.sent(),[2,u.parseResponse(r)]}})})},r.fetchDiscover=function(t,n){return o.__awaiter(a,void 0,void 0,function(){var r;return o.__generator(this,function(e){switch(e.label){case 0:return r=o.__assign({body:s.createDiscoverBody(n),headers:{"Content-Type":"text/xml"},method:"POST"},t.init),[4,fetch(t.url,r)];case 1:return[4,e.sent().text()];case 2:return r=e.sent(),[2,l[n.command](r)]}})})}},function(e,r,t){"use strict";function n(e){for(var r,t=e.length,n=[],a=0;a<t;a++)r=e[a],n.push(void 0!==r.name?r.name:r);return n}function p(e,r){e=e.slice(0);return 1<r.length&&e.push("{"+n(r).join(",")+"}"),function e(r){var t,n="CROSSJOIN({";return 2<r.length?(t=r.pop(),n+=e(r)):(n+=r.shift(),t=r.pop()),n=(n+="},{")+t+"})"}(e)}function m(e,r){var t=e.length-1,n=e[t],r=function(e,r){for(var t=0,n=e.length;t<n;t++)if(0===r.indexOf(e[t].field))return e[t];return null}(r,n);return r&&r.dir?n="ORDER("+n+".Children,"+r.field+".CurrentMember.MEMBER_CAPTION,"+r.dir+")":n+=".Children",e[t]=n,e}function d(e){var r=e.split(".");return 2<r.length?r[0]+"."+r[1]:e}Object.defineProperty(r,"__esModule",{value:!0}),r.serializeMembers=function(e,r,t){var n,a,o="",e=function(e){for(var r=[],t=[],n=[],a=0;a<e.length;a++){var o=e[a],i=o.name,u=!1;if(1<i.length)t.push(o);else{for(var s=d(i[0]),l=0,c=n.length;l<c;l++)if(0===n[l].name[0].indexOf(s)){u=!0;break}u||n.push(o),o.expand&&r.push(o)}}return{expanded:r=r.concat(t),root:n}}(e=e||[]),i=e.expanded,u=(e=e.root,a=[],e.forEach(function(e){var e=e.name[0],r=d(e);a.some(function(e){return 0===e.indexOf(r)})||a.push(e)}),a),s=[],l=i.length,c=0,f=[];if(1<u.length||1<r.length){for(s.push(p(u,r));c<l;c++)f=function(e,r){var t=r.length;r=r.slice(0);for(var n=0;n<e.length;n++)for(var a=e[n],o=0;o<t;o++){var i=d(r[o]);if(-1!==a.indexOf(i)){r[o]=a;break}}return r}(n=m(i[c].name,t),u),s.push(p(f,r));o+=s.join(",")}else{for(;c<l;c++)n=m(i[c].name,t),f.push(n[0]);o+=u.concat(f).join(",")}return o},r.measureNames=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var l={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}")',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"'},c="doesnotcontain",f="in",p="neq";r.serializeFilters=function(e,r){for(var t,n,a,o,i="",u="",s=e.length-1;0<=s;s--)u=(u="SELECT (")+(t=e[s],o=a=n=void 0,n="",a=String(t.value),o=t.field,(t=t.operator)===f?n=(n+="{")+a+"}":n=(n=(n+=t===p||t===c?"-":"")+"Filter("+(o+".MEMBERS"))+function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return e.forEach(function(e,r){t=t.replace(new RegExp("\\{"+r+"\\}","g"),e)}),t}(l[t],o,a)+")",n)+") ON 0",i=s===e.length-1?u+=" FROM ["+r+"]":u+" FROM ( "+i+" )";return i}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a=t(0),o=t(9),o=(r.createRequestBody=o.createRequestBody,t(26)),o=(r.fetchData=o.fetchData,r.fetchDiscover=o.fetchDiscover,t(8)),o=(r.createDiscoverBody=o.createDiscoverBody,r.discoverCommands=o.discoverCommands,t(24)),o=(r.createDataState=o.createDataState,t(23)),o=(r.createAxisDescriptors=o.createAxisDescriptors,t(22)),o=(r.setSort=o.setSort,t(21)),o=(r.setFilter=o.setFilter,t(3)),o=(r.parseResponse=o.parseResponse,t(1)),o=(r.addKPI=o.addKPI,r.buildKPIMeasures=o.buildKPIMeasures,r.toTree=o.toTree,r.toColumns=o.toColumns,r.toRows=o.toRows,r.toData=o.toData,r.compareAxes=o.compareAxes,t(20)),o=(r.headersReducer=o.headersReducer,r.HEADERS_ACTION=o.HEADERS_ACTION,a.__exportStar(t(7),r),a.__exportStar(t(18),r),t(12)),i=(r.PivotGridNavigation=o.PivotGridNavigation,r.ConfiguratorNavigation=o.ConfiguratorNavigation,r);for(n in i)u(n,i[n])}],a={},n.m=t,n.c=a,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:t})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=29)}}});